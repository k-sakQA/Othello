# Othello â™Ÿï¸

**Webã‚µã‚¤ãƒˆãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ** - 7ã¤ã®å°‚é–€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

Othelloã¯ã€Web UIã®è‡ªå‹•ãƒ†ã‚¹ãƒˆç”Ÿæˆãƒ»å®Ÿè¡Œãƒ»ä¿®å¾©ãƒ»ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’çµ±åˆã—ãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚23è¦³ç‚¹ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã€å¤±æ•—ã‚’è‡ªå‹•ä¿®å¾©ã—ã€ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆã¾ã§è‡ªå¾‹çš„ã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

## âœ¨ Phase 9 ã®ç‰¹å¾´

- **ğŸ¯ è‡ªå‹•åŒ–**: URLã¨ä»•æ§˜æ›¸ã‹ã‚‰ã€ãƒ†ã‚¹ãƒˆè¨ˆç”»â†’ç”Ÿæˆâ†’å®Ÿè¡Œâ†’ä¿®å¾©â†’ãƒ¬ãƒãƒ¼ãƒˆã¾ã§è‡ªå‹•å®Ÿè¡Œ
- **ğŸ—£ï¸ å¯¾è©±ãƒ¢ãƒ¼ãƒ‰**: 100%ã‚«ãƒãƒ¼æ™‚ã«AIãŒæ·±ã„ãƒ†ã‚¹ãƒˆï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã€çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆï¼‰ã‚’æ¨å¥¨
- **ğŸ¤– AIæ¨å¥¨**: å¤±æ•—ãƒ†ã‚¹ãƒˆãƒ»æœªã‚«ãƒãƒ¼è¦³ç‚¹ãƒ»ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆã‚’å„ªå…ˆé †ä½ä»˜ã‘ã—ã¦ææ¡ˆ
- **ğŸ“‹ ä»•æ§˜æ›¸ãƒ™ãƒ¼ã‚¹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä»•æ§˜æ›¸ã‹ã‚‰ãƒ†ã‚¹ãƒˆåˆ†æã‚’å®Ÿè¡Œï¼ˆspec/ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã™ã‚‹ã ã‘ï¼‰
- **ğŸ”§ è‡ªå‹•ä¿®å¾©**: å¤±æ•—ãƒ†ã‚¹ãƒˆã‚’4ç¨®é¡ã®ä¿®å¾©æˆ¦ç•¥ï¼ˆLOCATOR_FIX, WAIT_FIX, ACTION_FIX, INSTRUCTION_FIXï¼‰ã§è‡ªå‹•ä¿®å¾©
- **ğŸ“Š 23è¦³ç‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸**: JISå“è³ªç‰¹æ€§ã«åŸºã¥ã23è¦³ç‚¹ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’è‡ªå‹•è¨ˆç®—
- **ğŸ“ˆ 3å½¢å¼ãƒ¬ãƒãƒ¼ãƒˆ**: JSONï¼ˆæ©Ÿæ¢°å¯èª­ï¼‰ã€Markdownï¼ˆGitHubï¼‰ã€HTMLï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ã§è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- **ğŸ”„ 8ã‚¹ãƒ†ãƒƒãƒ—ãƒ«ãƒ¼ãƒ—**: Plannerâ†’Generatorâ†’Executorâ†’Healerâ†’Analyzerâ†’Reporter ã®çµ±åˆãƒ«ãƒ¼ãƒ—
- **ğŸ›‘ åœæ»æ¤œå‡º**: ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒåœæ»ã—ãŸã‚‰è‡ªå‹•çµ‚äº†ï¼ˆãƒªã‚½ãƒ¼ã‚¹åŠ¹ç‡åŒ–ï¼‰

## ğŸ­ 7ã¤ã®å°‚é–€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

### 1. Othello-Planner (16/16 tests âœ…)
**ä»•æ§˜æ›¸ + 23è¦³ç‚¹CSV** ã‹ã‚‰æ—¥æœ¬èªã§ãƒ†ã‚¹ãƒˆåˆ†æã‚’å®Ÿè¡Œ
- ğŸ“„ ä»•æ§˜æ›¸ãŒã‚ã‚‹å ´åˆ: ä»•æ§˜æ›¸ã®å†…å®¹ã«åŸºã¥ã„ã¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç”Ÿæˆ
- ğŸŒ ä»•æ§˜æ›¸ãŒãªã„å ´åˆ: ã‚µã‚¤ãƒˆæ¢ç´¢ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œï¼ˆå¾“æ¥é€šã‚Šï¼‰
- ğŸ¯ æœªã‚«ãƒãƒ¼è¦³ç‚¹ã‚’å„ªå…ˆã—ã¦ãƒ†ã‚¹ãƒˆè¨ˆç”»ã‚’ç”Ÿæˆ

### 2. Othello-Generator (20/20 tests âœ…)
**æ—¥æœ¬èªã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ + å®Ÿéš›ã®ã‚µã‚¤ãƒˆSnapshot** â†’ Playwright MCPå‘½ä»¤ã«å¤‰æ›
- ğŸ” ä»•æ§˜æ›¸ãƒ™ãƒ¼ã‚¹ã®æŠ½è±¡çš„ãªæ‰‹é †ã‚’å®Ÿéš›ã®DOMè¦ç´ ã«ãƒãƒƒãƒ”ãƒ³ã‚°
- ğŸ·ï¸ refï¼ˆè¦ç´ å‚ç…§ï¼‰ã‚’ä½¿ã£ã¦æ­£ç¢ºãªè¦ç´ æŒ‡å®š
- ğŸ”§ JSONä¿®å¾©ãƒ­ã‚¸ãƒƒã‚¯ã§ç”Ÿæˆã®å®‰å®šæ€§ã‚’å‘ä¸Š

### 3. Othello-Executor (23/23 tests âœ…)
MCPå‘½ä»¤ã‚’å®Ÿè¡Œã—ã¦ãƒ†ã‚¹ãƒˆçµæœã‚’å–å¾—

### 4. Othello-Healer (19/19 tests âœ…)
å¤±æ•—ãƒ†ã‚¹ãƒˆã‚’åˆ†æã—ã¦4ç¨®é¡ã®ä¿®å¾©æˆ¦ç•¥ã§è‡ªå‹•ä¿®å¾©
- âš¡ Quick Wait Fix: 500mså¾…æ©Ÿã§å³åº§ã«ä¿®å¾©
- ğŸ¤– LLM Analysis: Snapshotã‚’åˆ†æã—ã¦æ ¹æœ¬åŸå› ã‚’ç‰¹å®š

### 5. Othello-Analyzer (25/25 tests âœ…)
å®Ÿè¡Œçµæœã‹ã‚‰è¦³ç‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸ã¨ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’è¨ˆç®—
- ğŸ“Š æ–°æ—§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸¡å¯¾å¿œã§å‹•ä½œ

### 6. Othello-Reporter (21/21 tests âœ…)
JSON/Markdown/HTMLã®3å½¢å¼ã§ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ

### 7. Othello-Orchestrator (NEW! âœ¨)
6ã¤ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’çµ±åˆã—ã€8ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè¡Œ
- ğŸ”„ è‡ªå‹•ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶å¾¡
- ğŸ¯ ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™é”æˆã§æ—©æœŸçµ‚äº†
- ğŸ›‘ åœæ»æ¤œå‡ºæ©Ÿèƒ½
- ğŸ—£ï¸ **å¯¾è©±ãƒ¢ãƒ¼ãƒ‰**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¨å¥¨ãƒ†ã‚¹ãƒˆã‚’æç¤ºã—ã¦é¸æŠå¯èƒ½
- ğŸ¤– **AIæ¨å¥¨æ©Ÿèƒ½**: å¤±æ•—ãƒ†ã‚¹ãƒˆå„ªå…ˆã€æœªã‚«ãƒãƒ¼è¦³ç‚¹ã€ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆç”Ÿæˆ

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ï¿½ ä»•æ§˜æ›¸ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæä¾›ï¼‰                 â”‚
â”‚  - æ©Ÿèƒ½ä»•æ§˜ã€ç”»é¢é·ç§»ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ ä»•æ§˜æ›¸åˆ†æ
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­ Playwright Agentså±¤ï¼ˆå…¬å¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰  â”‚
â”‚  - Planner: ãƒ†ã‚¹ãƒˆè¨ˆç”»ã‚’ç”Ÿæˆ                â”‚
â”‚  - Generator: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ            â”‚
â”‚  - Healer: å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’ä¿®å¾©             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ MCPå‘¼ã³å‡ºã—           â”‚ å®Ÿè¡Œçµæœ
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â™Ÿï¸  Othelloå±¤ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰            â”‚
â”‚  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«åˆ¶å¾¡       â”‚
â”‚  - å‘½ä»¤æ§‹é€ åŒ–ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ             â”‚
â”‚  - MCPStdioClientçµ±åˆ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ JSON RPC              â”‚ å®Ÿè¡Œçµæœ
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§© MCPå±¤ï¼ˆPlaywright MCP Serverï¼‰           â”‚
â”‚  - browser_snapshot, browser_clickç­‰        â”‚
â”‚  - ãƒ—ãƒ­ãƒˆã‚³ãƒ«å¤‰æ›ãƒ»refè§£æ±º                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Playwright API        â”‚ DOMçŠ¶æ…‹
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ Playwrightå±¤ï¼ˆExecutionï¼‰                â”‚
â”‚  - å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Othelloã®å½¹å‰²

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- MCPStdioClientã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«åˆ¶å¾¡
- ãƒ–ãƒ©ã‚¦ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä¿æŒãƒ»å†åˆ©ç”¨
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨å†æ¥ç¶š

### å‘½ä»¤æ§‹é€ åŒ–
- è‡ªç„¶è¨€èª â†’ MCP JSON RPCå¤‰æ›
- refå–å¾—ã¨Snapshotè§£æã®æ©‹æ¸¡ã—
- å®Ÿè¡Œçµæœã®æ•´å½¢ã¨åˆ†æ

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ
- å®Ÿè¡Œå±¥æ­´ã®ç®¡ç†
- ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ã®è¿½è·¡
- ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®è“„ç©

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ğŸ†• ä»•æ§˜æ›¸ãƒ™ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

**Step 1: ä»•æ§˜æ›¸ã‚’é…ç½®**
```bash
# spec/ ãƒ•ã‚©ãƒ«ãƒ€ã«ä»•æ§˜æ›¸ã‚’é…ç½®
mkdir spec
cp your-specification.md spec/
```

å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: `.md`, `.txt`, `.pdf`, `.docx`ï¼ˆè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«å¯ï¼‰

**Step 2: Othelloå®Ÿè¡Œ**
```bash
# ä»•æ§˜æ›¸ã‹ã‚‰è‡ªå‹•ãƒ†ã‚¹ãƒˆåˆ†æãƒ»å®Ÿè¡Œ
node bin/othello.js --url https://hotel.example.com

# ã‚«ã‚¹ã‚¿ãƒ è¨­å®š
node bin/othello.js \
  --url https://hotel.example.com \
  --max-iterations 10 \
  --coverage-target 90 \
  --output-dir ./my-reports
```

**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:**
```
1. Planner: ä»•æ§˜æ›¸ + ãƒ†ã‚¹ãƒˆè¦³ç‚¹ãƒªã‚¹ãƒˆ â†’ æ—¥æœ¬èªã§ãƒ†ã‚¹ãƒˆåˆ†æ
2. Generator: ãƒ†ã‚¹ãƒˆåˆ†æ + å®Ÿéš›ã®ã‚µã‚¤ãƒˆSnapshot â†’ Playwrightã‚¹ã‚¯ãƒªãƒ—ãƒˆç”Ÿæˆ
3. Executor: ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
4. Healer: å¤±æ•—æ™‚ã®è‡ªå‹•ä¿®å¾©
5. Reporter: 3å½¢å¼ã§ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
```

ğŸ’¡ **ä»•æ§˜æ›¸ãŒãªã„å ´åˆ**: è‡ªå‹•çš„ã«ã‚µã‚¤ãƒˆæ¢ç´¢ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã—ã¾ã™

### CLIã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
# åŸºæœ¬çš„ãªä½¿ã„æ–¹
othello --url https://hotel.example.com

# å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œï¼ˆæ¨å¥¨ãƒ†ã‚¹ãƒˆã‚’é¸æŠå¯èƒ½ï¼‰
othello --url https://hotel.example.com --interactive

# ã‚«ã‚¹ã‚¿ãƒ è¨­å®š
othello \
  --url https://hotel.example.com \
  --max-iterations 10 \
  --coverage-target 90 \
  --output-dir ./my-reports

# è‡ªå‹•ä¿®å¾©ãªã—
othello --url https://example.com --no-auto-heal

# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
othello --help
```

### ğŸ—£ï¸ å¯¾è©±ãƒ¢ãƒ¼ãƒ‰

`--interactive` ãƒ•ãƒ©ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã«AIæ¨å¥¨ãƒ†ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
ğŸ¯ æ¬¡ã«ã‚„ã‚‹ã¹ããƒ†ã‚¹ãƒˆ:
[1] å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆ: è¦³ç‚¹5ã®ãƒ†ã‚¹ãƒˆ (High)
    ç†ç”±: å‰å›å®Ÿè¡Œã§å¤±æ•—ã€‚ä¿®å¾©ãŒå¿…è¦ã§ã™
[2] è¦³ç‚¹3ã®ãƒ†ã‚¹ãƒˆ (High)
    ç†ç”±: æœªã‚«ãƒãƒ¼è¦³ç‚¹ (No.3)
[3] ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã€çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆï¼‰ã‚’ç”Ÿæˆ (Medium)
    ç†ç”±: å…¨è¦³ç‚¹ãŒã‚«ãƒãƒ¼æ¸ˆã¿ã€‚ã•ã‚‰ãªã‚‹ãƒ†ã‚¹ãƒˆå“è³ªå‘ä¸Šã®ãŸã‚
[4] ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆçµ‚äº†ï¼‰ (Low)
    ç†ç”±: å…¨è¦³ç‚¹ãŒã‚«ãƒãƒ¼æ¸ˆã¿ã€‚ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã—ã¾ã™
[0] çµ‚äº†
[Enter] æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¶šè¡Œ

ç•ªå·ã‚’é¸æŠã—ã¦ãã ã•ã„: 
```

**é¸æŠè‚¢ã®èª¬æ˜**ï¼š
- **å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆ**: å‰å›å®Ÿè¡Œã§å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’å„ªå…ˆè¡¨ç¤ºï¼ˆæœ€åˆã«è¡¨ç¤ºï¼‰
- **æœªã‚«ãƒãƒ¼è¦³ç‚¹**: ã¾ã ãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ãªã„è¦³ç‚¹
- **ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆ**: 100%ã‚«ãƒãƒ¼å¾Œã€AIãŒã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆã‚’ç”Ÿæˆ
- **ãƒ†ã‚¹ãƒˆå®Œäº†**: ã™ã¹ã¦ã®è¦³ç‚¹ãŒã‚«ãƒãƒ¼æ¸ˆã¿ã®å ´åˆã€å®Œäº†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
- **[0] çµ‚äº†**: å³åº§ã«ãƒ†ã‚¹ãƒˆçµ‚äº†
- **[Enter] ç¶šè¡Œ**: é€šå¸¸ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¶™ç¶š

### ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯ä½¿ç”¨

```javascript
const Orchestrator = require('./src/orchestrator');

// Orchestratorã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
const orchestrator = new Orchestrator({
  url: 'https://hotel.example.com',
  maxIterations: 10,
  coverageTarget: 80,
  autoHeal: true,
  interactive: true  // å¯¾è©±ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–
});

// å®Ÿè¡Œ
await orchestrator.run();

// å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ãªå ´åˆã€å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã«AIæ¨å¥¨ãƒ†ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã§ãã¾ã™ï¼š
// - å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆï¼ˆå„ªå…ˆè¡¨ç¤ºï¼‰
// - æœªã‚«ãƒãƒ¼è¦³ç‚¹ã®ãƒ†ã‚¹ãƒˆ
// - ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆï¼ˆ100%ã‚«ãƒãƒ¼æ™‚ã®ã¿ï¼‰
// - ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆ100%ã‚«ãƒãƒ¼æ™‚ã®ã¿ï¼‰
```
await othello.initializeSession();

// Snapshotã‚’å–å¾—ã—ã¦ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’ç†è§£
const snapshot = await othello.mcpClient.snapshot();

// refãƒ™ãƒ¼ã‚¹ã§æ“ä½œ
await othello.mcpClient.callTool('browser_type', {
  ref: 'e16',
  text: '2025-10-27',
  intent: 'å®¿æ³Šæ—¥ã‚’å…¥åŠ›'
});

// ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒ­ãƒ¼ã‚º
await othello.closeSession();
```

### ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æ©Ÿèƒ½ï¼ˆNew! âœ¨ï¼‰

è‡ªå‹•å†è©¦è¡Œã€æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶šã€å¤±æ•—æ™‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ã§å®‰å®šæ€§ã‚’å¤§å¹…å‘ä¸Šï¼š

```javascript
const Othello = require('./src/playwright-agent');

// ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
const othello = new Othello(config, {
  mockMode: false,
  // è‡ªå‹•å†è©¦è¡Œè¨­å®š
  maxRetries: 3,              // æœ€å¤§3å›ã¾ã§å†è©¦è¡Œ
  retryDelay: 1000,           // åˆæœŸå¾…æ©Ÿæ™‚é–“: 1ç§’
  backoffMultiplier: 2,       // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•: 2å€ãšã¤å¢—åŠ 
  maxRetryDelay: 30000,       // æœ€å¤§å¾…æ©Ÿæ™‚é–“: 30ç§’
  
  // ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶š
  autoReconnect: true,        // ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­æ™‚ã«è‡ªå‹•å†æ¥ç¶š
  
  // å¤±æ•—æ™‚ãƒ‡ãƒãƒƒã‚°
  saveSnapshotOnFailure: true,      // å¤±æ•—æ™‚ã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜
  snapshotDir: './error-snapshots'  // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜å…ˆ
});

await othello.initializeSession();

// executeWithRetry: æŒ‡å®šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•å†è©¦è¡Œ
const result = await othello.executeWithRetry(
  async () => {
    return await othello.executeInstruction({
      type: 'click',
      selector: '#submit-button',
      description: 'Submit button click'
    });
  },
  'submitButtonClick'  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åï¼ˆãƒ­ã‚°è¨˜éŒ²ç”¨ï¼‰
);

// å¤±æ•—æ™‚ã¯è‡ªå‹•çš„ã«ï¼š
// 1. æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§å¾…æ©Ÿæ™‚é–“ã‚’å¢—ã‚„ã—ãªãŒã‚‰å†è©¦è¡Œ
// 2. ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯è‡ªå‹•å†æ¥ç¶šã‚’è©¦è¡Œ
// 3. ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’JSONã§ä¿å­˜ï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãï¼‰
```

### å®Ÿè¡Œå±¥æ­´ã®ç®¡ç†

```javascript
// ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«æŒ‡å®šã§ãƒ­ã‚°è¨˜éŒ²
await othello.logExecution('info', 'testAction', {
  status: 'success',
  duration: 1234
});

// å®Ÿè¡Œå±¥æ­´ã®å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¯èƒ½ï¼‰
const allHistory = othello.getExecutionHistory();
const errorLogs = othello.getExecutionHistory({ level: 'error' });
const recentLogs = othello.getExecutionHistory({ 
  since: new Date(Date.now() - 3600000) // éå»1æ™‚é–“
});

// å±¥æ­´ã®æ°¸ç¶šåŒ–
await othello.saveExecutionHistory('./logs/session-history.json');

// å±¥æ­´ã®èª­ã¿è¾¼ã¿ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒï¼‰
await othello.loadExecutionHistory('./logs/session-history.json', {
  mode: 'append'  // 'replace' ã¾ãŸã¯ 'append'
});
```

## ğŸ“„ ä»•æ§˜æ›¸ãƒ™ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆåˆ†æ

### ä»•æ§˜æ›¸ã®é…ç½®

```bash
# spec/ ãƒ•ã‚©ãƒ«ãƒ€ã«ä»•æ§˜æ›¸ã‚’é…ç½®
mkdir spec
cp your-specification.md spec/
```

**å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:**
- Markdown (`.md`)
- ãƒ†ã‚­ã‚¹ãƒˆ (`.txt`)
- PDF (`.pdf`) â€»ä»Šå¾Œå¯¾å¿œäºˆå®š
- Word (`.docx`) â€»ä»Šå¾Œå¯¾å¿œäºˆå®š

**è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œ:**
```
spec/
â”œâ”€â”€ functional-spec.md    # æ©Ÿèƒ½ä»•æ§˜
â”œâ”€â”€ ui-design.md          # UIè¨­è¨ˆ
â””â”€â”€ validation-rules.txt  # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
```

ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã€çµåˆã•ã‚Œã¾ã™ã€‚

### ä»•æ§˜æ›¸ã®è¨˜è¼‰ä¾‹

```markdown
# ãƒ›ãƒ†ãƒ«äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  ä»•æ§˜æ›¸

## 1. æ¦‚è¦
æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ãƒ›ãƒ†ãƒ«ã®å®¿æ³Šãƒ—ãƒ©ãƒ³ã‚’äºˆç´„ã§ãã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## 2. æ©Ÿèƒ½ä»•æ§˜

### 2.1 å®¿æ³Šäºˆç´„æ©Ÿèƒ½

**URL**: https://hotel-example-site.takeyaqa.dev/ja/reserve.html?plan-id=0

**å…¥åŠ›é …ç›®:**
- å®¿æ³Šæ—¥ï¼ˆå¿…é ˆï¼‰: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰é¸æŠ
- å®¿æ³Šæ•°ï¼ˆå¿…é ˆï¼‰: 1ï½9æ³Šã‹ã‚‰é¸æŠ
- äººæ•°ï¼ˆå¿…é ˆï¼‰: 1ï½9åã‹ã‚‰é¸æŠ
- æ°åï¼ˆå¿…é ˆï¼‰: å…¨è§’æ–‡å­—ã€1ï½50æ–‡å­—

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³:**
- å¿…é ˆé …ç›®ãŒæœªå…¥åŠ›ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ã€Œã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ã€

## 3. ç”»é¢é·ç§»
äºˆç´„å…¥åŠ›ç”»é¢ â†’ äºˆç´„ç¢ºèªç”»é¢ â†’ äºˆç´„å®Œäº†ç”»é¢
```

### ãƒ†ã‚¹ãƒˆåˆ†æã®ãƒ•ãƒ­ãƒ¼

1. **Planner**: ä»•æ§˜æ›¸ã‚’èª­ã¿è¾¼ã¿
2. **ãƒ†ã‚¹ãƒˆè¦³ç‚¹ãƒªã‚¹ãƒˆ**: `config/test-ViewpointList-simple.csv` ã‚’å‚ç…§
3. **ãƒ†ã‚¹ãƒˆåˆ†æ**: ä»•æ§˜æ›¸ Ã— ãƒ†ã‚¹ãƒˆè¦³ç‚¹ â†’ æ—¥æœ¬èªã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç”Ÿæˆ
4. **Generator**: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ + å®Ÿéš›ã®ã‚µã‚¤ãƒˆ â†’ Playwrightã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### ä»•æ§˜æ›¸ãªã—ãƒ¢ãƒ¼ãƒ‰

ä»•æ§˜æ›¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€è‡ªå‹•çš„ã«ã‚µã‚¤ãƒˆæ¢ç´¢ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã—ã¾ã™ï¼š

```
âš ï¸  spec/ãƒ•ã‚©ãƒ«ãƒ€ã«ä»•æ§˜æ›¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚µã‚¤ãƒˆæ¢ç´¢ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã—ã¾ã™ã€‚
```

## âš¡ ä¸»è¦æ©Ÿèƒ½

### 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **MCPStdioClientçµ±åˆ**: stdioé€šä¿¡ã«ã‚ˆã‚‹å®‰å®šã—ãŸMCPæ¥ç¶š
- **ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«åˆ¶å¾¡**: ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆæœŸåŒ–ãƒ»ç¶­æŒãƒ»ã‚¯ãƒ­ãƒ¼ã‚ºã®å®Œå…¨ç®¡ç†
- **è‡ªå‹•å†æ¥ç¶š**: ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­æ™‚ã®è‡ªå‹•å¾©æ—§

### 2. ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼ï¼ˆNew! âœ¨ï¼‰
- **è‡ªå‹•å†è©¦è¡Œ**: ä¸€æ™‚çš„ãªã‚¨ãƒ©ãƒ¼ã‹ã‚‰è‡ªå‹•å›å¾©ï¼ˆæœ€å¤§å›æ•°è¨­å®šå¯èƒ½ï¼‰
- **æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•**: å†è©¦è¡Œé–“éš”ã‚’æ®µéšçš„ã«å¢—åŠ ï¼ˆ1ç§’â†’2ç§’â†’4ç§’...ï¼‰
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶š**: åˆ‡æ–­ã‚¨ãƒ©ãƒ¼ã‚’æ¤œçŸ¥ã—ã¦è‡ªå‹•å†æ¥ç¶š
- **å¤±æ•—ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ**: ãƒ‡ãƒãƒƒã‚°ç”¨ã«ã‚¨ãƒ©ãƒ¼æ™‚ã®çŠ¶æ…‹ã‚’è‡ªå‹•ä¿å­˜

### 3. å®Ÿè¡Œå±¥æ­´ç®¡ç†
- **æ§‹é€ åŒ–ãƒ­ã‚°**: JSONå½¢å¼ã§å®Ÿè¡Œå±¥æ­´ã‚’è¨˜éŒ²ï¼ˆãƒ¬ãƒ™ãƒ«ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿ï¼‰
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ID**: å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¸€æ„ã«è­˜åˆ¥
- **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—**: ISO 8601å½¢å¼ã§æ­£ç¢ºãªæ™‚åˆ»è¨˜éŒ²
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½**: ãƒ¬ãƒ™ãƒ«ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»æ™‚åˆ»ç¯„å›²ã§çµã‚Šè¾¼ã¿
- **æ°¸ç¶šåŒ–**: ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒ

### 4. ãƒ‡ãƒãƒƒã‚°ã‚µãƒãƒ¼ãƒˆ
- **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰**: è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›ã¨ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹
- **ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜**: ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒšãƒ¼ã‚¸çŠ¶æ…‹ã‚’ä¿å­˜
- **å®Ÿè¡Œæ™‚é–“è¨ˆæ¸¬**: å„æ“ä½œã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¿½è·¡

## ğŸ’¡ ä½¿ç”¨ä¾‹

### ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
git clone https://github.com/k-sakQA/Othello.git
cd Othello
npm install

# Step 2: ç’°å¢ƒè¨­å®š
cp .env.example .env
# .envã«OpenAI API Keyã‚’è¨­å®š
# OPENAI_API_KEY=sk-proj-your-key-here

# Step 3: MCPã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒã‚§ãƒƒã‚¯
# OthelloãŒè‡ªå‹•çš„ã«ãƒã‚§ãƒƒã‚¯ã—ã€å¿…è¦ã«å¿œã˜ã¦èµ·å‹•æ–¹æ³•ã‚’æç¤ºã—ã¾ã™
# åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§MCPã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ:
npx @playwright/mcp@latest --browser chromium

# Step 4: Othelloå®Ÿè¡Œ
node bin/othello.js \
  --url "https://hotel-example-site.takeyaqa.dev/ja/reserve.html?plan-id=0" \
  --max-iterations 5 \
  --coverage-target 90 \
  --llm-provider openai \
  --verbose

# Step 5: ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
cat reports/final-report.json
# Windowsã®å ´åˆ:
start reports/othello-report-*.html
# Mac/Linuxã®å ´åˆ:
open reports/othello-report-*.html
```

### ğŸ“‹ MCP Health Checkï¼ˆè‡ªå‹•ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ï¼‰

Othello Phase 9ã§ã¯ã€å®Ÿè¡Œå‰ã«Playwright MCPã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•çŠ¶æ…‹ã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ï¼š

```bash
# å®Ÿè¡Œæ™‚ã®å‡ºåŠ›ä¾‹:
# ğŸ” Checking Playwright MCP Server availability...
# 
# âœ… Playwright MCP Server is available
# 
# ã¾ãŸã¯
# 
# âš ï¸  Playwright MCP Server is not responding
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                   Playwright MCP Server Not Available                      â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 
# Othello requires Playwright MCP Server to be running.
# 
# ğŸ“‹ Setup Instructions:
# 
# 1ï¸âƒ£  åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š
#    npx @playwright/mcp@latest --browser chromium
```

**MCPãƒã‚§ãƒƒã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆãƒ¢ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼‰:**

```bash
# ãƒ†ã‚¹ãƒˆç›®çš„ã§MCPä¸è¦ã®å ´åˆ
node bin/othello.js --url https://example.com --llm-provider mock
```

### ã‚µã‚¤ãƒˆæ¢ç´¢ãƒ¢ãƒ¼ãƒ‰ï¼ˆä»•æ§˜æ›¸ãªã—ï¼‰

```bash
# ä»•æ§˜æ›¸ãªã—ã§å®Ÿè¡Œ
node bin/othello.js --url https://example.com

# PlannerãŒè‡ªå‹•çš„ã«ã‚µã‚¤ãƒˆã‚’æ¢ç´¢ã—ã¦ãƒ†ã‚¹ãƒˆåˆ†æ
```

### ã‚«ã‚¹ã‚¿ãƒ è¨­å®š

```bash
# è‡ªå‹•ä¿®å¾©ãªã—
node bin/othello.js \
  --url https://example.com \
  --no-auto-heal

# ã‚«ã‚¹ã‚¿ãƒ è¦³ç‚¹ãƒªã‚¹ãƒˆ
node bin/othello.js \
  --url https://example.com \
  --test-aspects-csv ./config/my-custom-aspects.csv

# å‡ºåŠ›å…ˆå¤‰æ›´
node bin/othello.js \
  --url https://example.com \
  --output-dir ./my-reports
```

## ğŸ—£ï¸ å¯¾è©±ãƒ¢ãƒ¼ãƒ‰è©³ç´°

### å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ã¨ã¯

å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ã¯ã€å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«AIãŒæ¨å¥¨ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã—ã€é¸æŠã•ã›ã‚‹æ©Ÿèƒ½ã§ã™ã€‚100%ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆå¾Œã‚‚ã€ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã€çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆï¼‰ã‚’ç¶™ç¶šã§ãã¾ã™ã€‚

### æ¨å¥¨ãƒ†ã‚¹ãƒˆã®ç¨®é¡

#### 1. å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆï¼ˆæœ€å„ªå…ˆï¼‰
```
[1] å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆ: è¦³ç‚¹5ã®ãƒ†ã‚¹ãƒˆ (High)
    ç†ç”±: å‰å›å®Ÿè¡Œã§å¤±æ•—ã€‚ä¿®å¾©ãŒå¿…è¦ã§ã™
```
- å‰å›å®Ÿè¡Œã§å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’æœ€åˆã«è¡¨ç¤º
- ä¿®å¾©ã—ã¦å†å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š

#### 2. æœªã‚«ãƒãƒ¼è¦³ç‚¹ã®ãƒ†ã‚¹ãƒˆï¼ˆé«˜å„ªå…ˆï¼‰
```
[2] è¦³ç‚¹3ã®ãƒ†ã‚¹ãƒˆ (High)
    ç†ç”±: æœªã‚«ãƒãƒ¼è¦³ç‚¹ (No.3)
```
- 23è¦³ç‚¹ã®ã†ã¡ã€ã¾ã ãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ãªã„è¦³ç‚¹
- ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Šã«ç›´æ¥è²¢çŒ®

#### 3. ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆï¼ˆ100%ã‚«ãƒãƒ¼å¾Œã®ã¿ï¼‰
```
[3] ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã€çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆï¼‰ã‚’ç”Ÿæˆ (Medium)
    ç†ç”±: å…¨è¦³ç‚¹ãŒã‚«ãƒãƒ¼æ¸ˆã¿ã€‚ã•ã‚‰ãªã‚‹ãƒ†ã‚¹ãƒˆå“è³ªå‘ä¸Šã®ãŸã‚
```
- AIãŒå®Ÿè¡Œå±¥æ­´ã‚’åˆ†æã—ã¦ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ç”Ÿæˆ
- å¢ƒç•Œå€¤ã€æ¥µç«¯ãªå…¥åŠ›ã€è¤‡æ•°æ©Ÿèƒ½ã®çµ„ã¿åˆã‚ã›
- å®Ÿè£…: `Planner.generateDeeperTests(history, url)`

#### 4. ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆ100%ã‚«ãƒãƒ¼å¾Œã®ã¿ï¼‰
```
[4] ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆçµ‚äº†ï¼‰ (Low)
    ç†ç”±: å…¨è¦³ç‚¹ãŒã‚«ãƒãƒ¼æ¸ˆã¿ã€‚ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã—ã¾ã™
```
- ã™ã¹ã¦ã®è¦³ç‚¹ãŒã‚«ãƒãƒ¼æ¸ˆã¿ã®å ´åˆã«è¡¨ç¤º
- é¸æŠã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã—ã¦çµ‚äº†

### ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠè‚¢

| å…¥åŠ› | å‹•ä½œ |
|------|------|
| **1-N** | é¸æŠã—ãŸãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆå…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµŒç”±ï¼‰ |
| **0** | å³åº§ã«ãƒ†ã‚¹ãƒˆçµ‚äº† |
| **Enter** | é€šå¸¸ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¶™ç¶šï¼ˆè‡ªå‹•é¸æŠï¼‰ |

### ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆç”Ÿæˆã®ä»•çµ„ã¿

```javascript
// Planner.generateDeeperTests ãƒ¡ã‚½ãƒƒãƒ‰
async generateDeeperTests({ history, url }) {
  // 1. å®Ÿè¡Œå±¥æ­´ã‚’åˆ†æ
  const testedAspects = extractTestedAspects(history);
  const successfulTests = extractSuccessfulTests(history);
  
  // 2. LLMã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé€ä¿¡
  const prompt = `
    æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒçŠ¶æ³:
    - ãƒ†ã‚¹ãƒˆæ¸ˆã¿è¦³ç‚¹æ•°: ${testedAspects.size}
    - æˆåŠŸã—ãŸãƒ†ã‚¹ãƒˆæ•°: ${successfulTests.length}
    
    ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’3ã¤ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š
    1. ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹: å¢ƒç•Œå€¤ã€æ¥µç«¯ãªå…¥åŠ›å€¤
    2. çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆ: è¤‡æ•°æ©Ÿèƒ½ã®çµ„ã¿åˆã‚ã›
    3. éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
  `;
  
  // 3. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç”Ÿæˆ
  return {
    testCases: [
      {
        test_case_id: 'DEEPER-001',
        aspect_no: 9001,
        title: 'ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹: ç©ºæ–‡å­—å…¥åŠ›',
        test_type: 'ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹',
        steps: ['ã™ã¹ã¦ã®å…¥åŠ›ã‚’ç©ºç™½ã«ã—ã¦é€ä¿¡'],
        expected_results: ['é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹']
      }
    ]
  };
}
```

**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: LLMã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆç©ºæ–‡å­—å…¥åŠ›ï¼‰ã‚’è¿”ã—ã¾ã™ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
npm run test:coverage

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
npx jest __tests__/error-recovery.test.js
npx jest __tests__/recommendation*.test.js
npx jest __tests__/orchestrator*.test.js
npx jest __tests__/integration-deeper-tests.test.js
```

**ãƒ†ã‚¹ãƒˆçŠ¶æ³**: 154ãƒ†ã‚¹ãƒˆï¼ˆå¯¾è©±ãƒ¢ãƒ¼ãƒ‰ãƒ»AIæ¨å¥¨æ©Ÿèƒ½å«ã‚€ï¼‰
- âœ… ãƒ­ã‚°æ©Ÿèƒ½: 13ãƒ†ã‚¹ãƒˆ
- âœ… æ°¸ç¶šåŒ–æ©Ÿèƒ½: 8ãƒ†ã‚¹ãƒˆ
- âœ… ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼: 14ãƒ†ã‚¹ãƒˆ
- âœ… è¨­å®šç®¡ç†: 17ãƒ†ã‚¹ãƒˆ
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†: 15ãƒ†ã‚¹ãƒˆ
- âœ… PlaywrightAgent: 24ãƒ†ã‚¹ãƒˆ
- âœ… Orchestrator: 12ãƒ†ã‚¹ãƒˆ
- âœ… **æ¨å¥¨ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½**: 8ãƒ†ã‚¹ãƒˆ â† NEW!
- âœ… **å¯¾è©±æ©Ÿèƒ½**: 9ãƒ†ã‚¹ãƒˆ â† NEW!
- âœ… **ç‰¹å®šãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: 3ãƒ†ã‚¹ãƒˆ â† NEW!
- âœ… **ã‚ˆã‚Šæ·±ã„ãƒ†ã‚¹ãƒˆ**: 3ãƒ†ã‚¹ãƒˆ â† NEW!
- âœ… **çµ±åˆãƒ†ã‚¹ãƒˆ**: 5ãƒ†ã‚¹ãƒˆ â† NEW!
- âœ… ResultCollector: 12ãƒ†ã‚¹ãƒˆ

## ğŸ“– APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```javascript
new Othello(config, options)
```

**options:**
- `mockMode` (boolean): ãƒ¢ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- `maxRetries` (number): æœ€å¤§å†è©¦è¡Œå›æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0ï¼‰
- `retryDelay` (number): åˆæœŸå†è©¦è¡Œé…å»¶ï¼ˆãƒŸãƒªç§’ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1000ï¼‰
- `backoffMultiplier` (number): ãƒãƒƒã‚¯ã‚ªãƒ•å€ç‡ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 2ï¼‰
- `maxRetryDelay` (number): æœ€å¤§å†è©¦è¡Œé…å»¶ï¼ˆãƒŸãƒªç§’ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 30000ï¼‰
- `autoReconnect` (boolean): è‡ªå‹•å†æ¥ç¶šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
- `saveSnapshotOnFailure` (boolean): å¤±æ•—æ™‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- `snapshotDir` (string): ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜å…ˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: './error-snapshots'ï¼‰
- `debugMode` (boolean): ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- `logFile` (string): ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: nullï¼‰

### ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰

#### `executeWithRetry(action, actionName)`
æŒ‡å®šã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•å†è©¦è¡Œä»˜ãã§å®Ÿè¡Œã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `action` (Function): å®Ÿè¡Œã™ã‚‹éåŒæœŸé–¢æ•°
- `actionName` (string): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åï¼ˆãƒ­ã‚°è¨˜éŒ²ç”¨ï¼‰

**æˆ»ã‚Šå€¤:** ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œçµæœ

**ä¾‹:**
```javascript
const result = await othello.executeWithRetry(
  async () => await othello.executeInstruction(instruction),
  'navigationAction'
);
```

#### `logExecution(level, action, data)`
å®Ÿè¡Œå±¥æ­´ã«ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `level` (string): ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ï¼ˆ'info', 'warn', 'error'ï¼‰
- `action` (string): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å
- `data` (object): ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿

#### `getExecutionHistory(filter)`
å®Ÿè¡Œå±¥æ­´ã‚’å–å¾—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰ã€‚

**filter:**
- `level` (string): ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- `action` (string): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- `since` (Date): æŒ‡å®šæ™‚åˆ»ä»¥é™ã®ãƒ­ã‚°ã®ã¿

#### `saveExecutionHistory(filepath)`
å®Ÿè¡Œå±¥æ­´ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã€‚

#### `loadExecutionHistory(filepath, options)`
å®Ÿè¡Œå±¥æ­´ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿ã€‚

**options:**
- `mode` (string): 'replace'ï¼ˆç½®ãæ›ãˆï¼‰ã¾ãŸã¯ 'append'ï¼ˆè¿½åŠ ï¼‰

## ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼ã®æ´»ç”¨
```javascript
// æ¨å¥¨: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸å®‰å®šãªç’°å¢ƒã§ã¯å†è©¦è¡Œã‚’æœ‰åŠ¹åŒ–
const othello = new Othello(config, {
  maxRetries: 3,
  retryDelay: 2000,
  autoReconnect: true
});
```

### 2. å¤±æ•—æ™‚ã®ãƒ‡ãƒãƒƒã‚°
```javascript
// æ¨å¥¨: é–‹ç™ºæ™‚ã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ã‚’æœ‰åŠ¹åŒ–
const othello = new Othello(config, {
  saveSnapshotOnFailure: true,
  snapshotDir: './debug-snapshots',
  debugMode: true,
  logFile: './logs/debug.log'
});
```

### 3. æœ¬ç•ªç’°å¢ƒè¨­å®š
```javascript
// æ¨å¥¨: æœ¬ç•ªç’°å¢ƒã§ã¯é©åˆ‡ãªãƒªãƒˆãƒ©ã‚¤ã¨ãƒ­ã‚°è¨­å®š
const othello = new Othello(config, {
  maxRetries: 2,
  retryDelay: 1000,
  backoffMultiplier: 2,
  autoReconnect: true,
  saveSnapshotOnFailure: false,  // æœ¬ç•ªã§ã¯false
  logFile: './logs/production.log'
});
```

### 4. ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒ
```javascript
// æ¨å¥¨: é•·æ™‚é–“å®Ÿè¡Œæ™‚ã¯å®šæœŸçš„ã«å±¥æ­´ã‚’ä¿å­˜
setInterval(async () => {
  await othello.saveExecutionHistory('./logs/checkpoint.json');
}, 300000); // 5åˆ†ã”ã¨

// ã‚¯ãƒ©ãƒƒã‚·ãƒ¥å¾Œã®å¾©å…ƒ
await othello.loadExecutionHistory('./logs/checkpoint.json', {
  mode: 'replace'
});
```

## ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Phase 8: MCP Session Management](docs/phase8-mcp-session.md)
- [ä¸‰å±¤æ§‹é€ ã®è¨­è¨ˆåŸå‰‡](docs/architecture.md)
- [Playwright Agentsçµ±åˆã‚¬ã‚¤ãƒ‰](docs/playwright-agents.md)

## ğŸ‘¤ è£½ä½œè€…

- Kazunori Sakata ([@k-sakQA](https://github.com/k-sakQA))

## ğŸ“œ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Copyright (c) 2025 Kazunori Sakata

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã”è¦§ãã ã•ã„ã€‚

