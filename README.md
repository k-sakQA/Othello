# Othello â™Ÿï¸

**ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»ä¸­ç¶™ãƒ¬ã‚¤ãƒ¤ãƒ¼** - Playwright Agentsã¨ Playwright MCPã®é–“ã‚’å–ã‚ŠæŒã¤ä¸­æ ¸åŸºç›¤

Playwright Agentsã¨Playwright MCPã®é–“ã§ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»å‘½ä»¤æ§‹é€ åŒ–ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒã‚’æ‹…å½“ã™ã‚‹ä¸­ç¶™ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã™ã€‚

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’­ è‡ªç„¶è¨€èªå±¤ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰                   â”‚
â”‚  - "ãƒ›ãƒ†ãƒ«äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ†ã‚¹ãƒˆã—ã¦"         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ è‡ªç„¶è¨€èªã®è¦æ±‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­ Playwright Agentså±¤ï¼ˆå…¬å¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰  â”‚
â”‚  - Planner: ãƒ†ã‚¹ãƒˆè¨ˆç”»ã‚’ç”Ÿæˆ                â”‚
â”‚  - Generator: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ            â”‚
â”‚  - Healer: å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’ä¿®å¾©             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ MCPå‘¼ã³å‡ºã—           â”‚ å®Ÿè¡Œçµæœ
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â™Ÿï¸  Othelloå±¤ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰            â”‚
â”‚  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«åˆ¶å¾¡       â”‚
â”‚  - å‘½ä»¤æ§‹é€ åŒ–ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ             â”‚
â”‚  - MCPStdioClientçµ±åˆ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ JSON RPC              â”‚ å®Ÿè¡Œçµæœ
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§© MCPå±¤ï¼ˆPlaywright MCP Serverï¼‰           â”‚
â”‚  - browser_snapshot, browser_clickç­‰        â”‚
â”‚  - ãƒ—ãƒ­ãƒˆã‚³ãƒ«å¤‰æ›ãƒ»refè§£æ±º                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Playwright API        â”‚ DOMçŠ¶æ…‹
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ Playwrightå±¤ï¼ˆExecutionï¼‰                â”‚
â”‚  - å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Othelloã®å½¹å‰²

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- MCPStdioClientã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«åˆ¶å¾¡
- ãƒ–ãƒ©ã‚¦ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä¿æŒãƒ»å†åˆ©ç”¨
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨å†æ¥ç¶š

### å‘½ä»¤æ§‹é€ åŒ–
- è‡ªç„¶è¨€èª â†’ MCP JSON RPCå¤‰æ›
- refå–å¾—ã¨Snapshotè§£æã®æ©‹æ¸¡ã—
- å®Ÿè¡Œçµæœã®æ•´å½¢ã¨åˆ†æ

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ
- å®Ÿè¡Œå±¥æ­´ã®ç®¡ç†
- ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ã®è¿½è·¡
- ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®è“„ç©

## ğŸš€ ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```javascript
const Othello = require('./src/playwright-agent');

// Othelloã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
const othello = new Othello(config, { mockMode: false });

// ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆæœŸåŒ–
await othello.initializeSession();

// Snapshotã‚’å–å¾—ã—ã¦ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’ç†è§£
const snapshot = await othello.mcpClient.snapshot();

// refãƒ™ãƒ¼ã‚¹ã§æ“ä½œ
await othello.mcpClient.callTool('browser_type', {
  ref: 'e16',
  text: '2025-10-27',
  intent: 'å®¿æ³Šæ—¥ã‚’å…¥åŠ›'
});

// ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒ­ãƒ¼ã‚º
await othello.closeSession();
```

### ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æ©Ÿèƒ½ï¼ˆNew! âœ¨ï¼‰

è‡ªå‹•å†è©¦è¡Œã€æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶šã€å¤±æ•—æ™‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ã§å®‰å®šæ€§ã‚’å¤§å¹…å‘ä¸Šï¼š

```javascript
const Othello = require('./src/playwright-agent');

// ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
const othello = new Othello(config, {
  mockMode: false,
  // è‡ªå‹•å†è©¦è¡Œè¨­å®š
  maxRetries: 3,              // æœ€å¤§3å›ã¾ã§å†è©¦è¡Œ
  retryDelay: 1000,           // åˆæœŸå¾…æ©Ÿæ™‚é–“: 1ç§’
  backoffMultiplier: 2,       // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•: 2å€ãšã¤å¢—åŠ 
  maxRetryDelay: 30000,       // æœ€å¤§å¾…æ©Ÿæ™‚é–“: 30ç§’
  
  // ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶š
  autoReconnect: true,        // ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­æ™‚ã«è‡ªå‹•å†æ¥ç¶š
  
  // å¤±æ•—æ™‚ãƒ‡ãƒãƒƒã‚°
  saveSnapshotOnFailure: true,      // å¤±æ•—æ™‚ã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜
  snapshotDir: './error-snapshots'  // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜å…ˆ
});

await othello.initializeSession();

// executeWithRetry: æŒ‡å®šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•å†è©¦è¡Œ
const result = await othello.executeWithRetry(
  async () => {
    return await othello.executeInstruction({
      type: 'click',
      selector: '#submit-button',
      description: 'Submit button click'
    });
  },
  'submitButtonClick'  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åï¼ˆãƒ­ã‚°è¨˜éŒ²ç”¨ï¼‰
);

// å¤±æ•—æ™‚ã¯è‡ªå‹•çš„ã«ï¼š
// 1. æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§å¾…æ©Ÿæ™‚é–“ã‚’å¢—ã‚„ã—ãªãŒã‚‰å†è©¦è¡Œ
// 2. ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯è‡ªå‹•å†æ¥ç¶šã‚’è©¦è¡Œ
// 3. ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’JSONã§ä¿å­˜ï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãï¼‰
```

### å®Ÿè¡Œå±¥æ­´ã®ç®¡ç†

```javascript
// ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«æŒ‡å®šã§ãƒ­ã‚°è¨˜éŒ²
await othello.logExecution('info', 'testAction', {
  status: 'success',
  duration: 1234
});

// å®Ÿè¡Œå±¥æ­´ã®å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¯èƒ½ï¼‰
const allHistory = othello.getExecutionHistory();
const errorLogs = othello.getExecutionHistory({ level: 'error' });
const recentLogs = othello.getExecutionHistory({ 
  since: new Date(Date.now() - 3600000) // éå»1æ™‚é–“
});

// å±¥æ­´ã®æ°¸ç¶šåŒ–
await othello.saveExecutionHistory('./logs/session-history.json');

// å±¥æ­´ã®èª­ã¿è¾¼ã¿ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒï¼‰
await othello.loadExecutionHistory('./logs/session-history.json', {
  mode: 'append'  // 'replace' ã¾ãŸã¯ 'append'
});
```

## âš¡ ä¸»è¦æ©Ÿèƒ½

### 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **MCPStdioClientçµ±åˆ**: stdioé€šä¿¡ã«ã‚ˆã‚‹å®‰å®šã—ãŸMCPæ¥ç¶š
- **ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«åˆ¶å¾¡**: ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆæœŸåŒ–ãƒ»ç¶­æŒãƒ»ã‚¯ãƒ­ãƒ¼ã‚ºã®å®Œå…¨ç®¡ç†
- **è‡ªå‹•å†æ¥ç¶š**: ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­æ™‚ã®è‡ªå‹•å¾©æ—§

### 2. ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼ï¼ˆNew! âœ¨ï¼‰
- **è‡ªå‹•å†è©¦è¡Œ**: ä¸€æ™‚çš„ãªã‚¨ãƒ©ãƒ¼ã‹ã‚‰è‡ªå‹•å›å¾©ï¼ˆæœ€å¤§å›æ•°è¨­å®šå¯èƒ½ï¼‰
- **æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•**: å†è©¦è¡Œé–“éš”ã‚’æ®µéšçš„ã«å¢—åŠ ï¼ˆ1ç§’â†’2ç§’â†’4ç§’...ï¼‰
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶š**: åˆ‡æ–­ã‚¨ãƒ©ãƒ¼ã‚’æ¤œçŸ¥ã—ã¦è‡ªå‹•å†æ¥ç¶š
- **å¤±æ•—ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ**: ãƒ‡ãƒãƒƒã‚°ç”¨ã«ã‚¨ãƒ©ãƒ¼æ™‚ã®çŠ¶æ…‹ã‚’è‡ªå‹•ä¿å­˜

### 3. å®Ÿè¡Œå±¥æ­´ç®¡ç†
- **æ§‹é€ åŒ–ãƒ­ã‚°**: JSONå½¢å¼ã§å®Ÿè¡Œå±¥æ­´ã‚’è¨˜éŒ²ï¼ˆãƒ¬ãƒ™ãƒ«ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿ï¼‰
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ID**: å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¸€æ„ã«è­˜åˆ¥
- **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—**: ISO 8601å½¢å¼ã§æ­£ç¢ºãªæ™‚åˆ»è¨˜éŒ²
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½**: ãƒ¬ãƒ™ãƒ«ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»æ™‚åˆ»ç¯„å›²ã§çµã‚Šè¾¼ã¿
- **æ°¸ç¶šåŒ–**: ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒ

### 4. ãƒ‡ãƒãƒƒã‚°ã‚µãƒãƒ¼ãƒˆ
- **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰**: è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›ã¨ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹
- **ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜**: ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒšãƒ¼ã‚¸çŠ¶æ…‹ã‚’ä¿å­˜
- **å®Ÿè¡Œæ™‚é–“è¨ˆæ¸¬**: å„æ“ä½œã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¿½è·¡

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
npm run test:coverage

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
npx jest __tests__/error-recovery.test.js
npx jest __tests__/logging.test.js
npx jest __tests__/persistence.test.js
```

**ãƒ†ã‚¹ãƒˆçŠ¶æ³**: 121/154ãƒ†ã‚¹ãƒˆï¼ˆ79%ï¼‰ãƒ‘ã‚¹
- âœ… ãƒ­ã‚°æ©Ÿèƒ½: 13ãƒ†ã‚¹ãƒˆ
- âœ… æ°¸ç¶šåŒ–æ©Ÿèƒ½: 8ãƒ†ã‚¹ãƒˆ
- âœ… ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼: 14ãƒ†ã‚¹ãƒˆ
- âœ… è¨­å®šç®¡ç†: 17ãƒ†ã‚¹ãƒˆ
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†: 15ãƒ†ã‚¹ãƒˆ
- âœ… PlaywrightAgent: 24ãƒ†ã‚¹ãƒˆ
- âœ… Orchestrator: 12ãƒ†ã‚¹ãƒˆ
- âœ… ResultCollector: 12ãƒ†ã‚¹ãƒˆ

## ğŸ“– APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```javascript
new Othello(config, options)
```

**options:**
- `mockMode` (boolean): ãƒ¢ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- `maxRetries` (number): æœ€å¤§å†è©¦è¡Œå›æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0ï¼‰
- `retryDelay` (number): åˆæœŸå†è©¦è¡Œé…å»¶ï¼ˆãƒŸãƒªç§’ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1000ï¼‰
- `backoffMultiplier` (number): ãƒãƒƒã‚¯ã‚ªãƒ•å€ç‡ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 2ï¼‰
- `maxRetryDelay` (number): æœ€å¤§å†è©¦è¡Œé…å»¶ï¼ˆãƒŸãƒªç§’ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 30000ï¼‰
- `autoReconnect` (boolean): è‡ªå‹•å†æ¥ç¶šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
- `saveSnapshotOnFailure` (boolean): å¤±æ•—æ™‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- `snapshotDir` (string): ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜å…ˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: './error-snapshots'ï¼‰
- `debugMode` (boolean): ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
- `logFile` (string): ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: nullï¼‰

### ä¸»è¦ãƒ¡ã‚½ãƒƒãƒ‰

#### `executeWithRetry(action, actionName)`
æŒ‡å®šã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•å†è©¦è¡Œä»˜ãã§å®Ÿè¡Œã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `action` (Function): å®Ÿè¡Œã™ã‚‹éåŒæœŸé–¢æ•°
- `actionName` (string): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åï¼ˆãƒ­ã‚°è¨˜éŒ²ç”¨ï¼‰

**æˆ»ã‚Šå€¤:** ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œçµæœ

**ä¾‹:**
```javascript
const result = await othello.executeWithRetry(
  async () => await othello.executeInstruction(instruction),
  'navigationAction'
);
```

#### `logExecution(level, action, data)`
å®Ÿè¡Œå±¥æ­´ã«ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ ã€‚

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `level` (string): ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ï¼ˆ'info', 'warn', 'error'ï¼‰
- `action` (string): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å
- `data` (object): ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿

#### `getExecutionHistory(filter)`
å®Ÿè¡Œå±¥æ­´ã‚’å–å¾—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰ã€‚

**filter:**
- `level` (string): ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- `action` (string): ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- `since` (Date): æŒ‡å®šæ™‚åˆ»ä»¥é™ã®ãƒ­ã‚°ã®ã¿

#### `saveExecutionHistory(filepath)`
å®Ÿè¡Œå±¥æ­´ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã€‚

#### `loadExecutionHistory(filepath, options)`
å®Ÿè¡Œå±¥æ­´ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿ã€‚

**options:**
- `mode` (string): 'replace'ï¼ˆç½®ãæ›ãˆï¼‰ã¾ãŸã¯ 'append'ï¼ˆè¿½åŠ ï¼‰

## ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼ã®æ´»ç”¨
```javascript
// æ¨å¥¨: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸å®‰å®šãªç’°å¢ƒã§ã¯å†è©¦è¡Œã‚’æœ‰åŠ¹åŒ–
const othello = new Othello(config, {
  maxRetries: 3,
  retryDelay: 2000,
  autoReconnect: true
});
```

### 2. å¤±æ•—æ™‚ã®ãƒ‡ãƒãƒƒã‚°
```javascript
// æ¨å¥¨: é–‹ç™ºæ™‚ã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ã‚’æœ‰åŠ¹åŒ–
const othello = new Othello(config, {
  saveSnapshotOnFailure: true,
  snapshotDir: './debug-snapshots',
  debugMode: true,
  logFile: './logs/debug.log'
});
```

### 3. æœ¬ç•ªç’°å¢ƒè¨­å®š
```javascript
// æ¨å¥¨: æœ¬ç•ªç’°å¢ƒã§ã¯é©åˆ‡ãªãƒªãƒˆãƒ©ã‚¤ã¨ãƒ­ã‚°è¨­å®š
const othello = new Othello(config, {
  maxRetries: 2,
  retryDelay: 1000,
  backoffMultiplier: 2,
  autoReconnect: true,
  saveSnapshotOnFailure: false,  // æœ¬ç•ªã§ã¯false
  logFile: './logs/production.log'
});
```

### 4. ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒ
```javascript
// æ¨å¥¨: é•·æ™‚é–“å®Ÿè¡Œæ™‚ã¯å®šæœŸçš„ã«å±¥æ­´ã‚’ä¿å­˜
setInterval(async () => {
  await othello.saveExecutionHistory('./logs/checkpoint.json');
}, 300000); // 5åˆ†ã”ã¨

// ã‚¯ãƒ©ãƒƒã‚·ãƒ¥å¾Œã®å¾©å…ƒ
await othello.loadExecutionHistory('./logs/checkpoint.json', {
  mode: 'replace'
});
```

## ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Phase 8: MCP Session Management](docs/phase8-mcp-session.md)
- [ä¸‰å±¤æ§‹é€ ã®è¨­è¨ˆåŸå‰‡](docs/architecture.md)
- [Playwright Agentsçµ±åˆã‚¬ã‚¤ãƒ‰](docs/playwright-agents.md)

